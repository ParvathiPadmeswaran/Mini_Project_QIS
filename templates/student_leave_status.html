{% extends 'studentbase.html' %}

{% block stud %}
    
<style>
    h2 {
        text-align: center;
        font-family: 'Segoe UI', Tahoma, sans-serif;
        color: #2c3e50;
        margin-bottom: 30px;
    }

    .leave-table {
        width: 80%;
        margin: 0 auto 50px auto;
        border-collapse: collapse;
        font-family: 'Segoe UI', Tahoma, sans-serif;
        box-shadow: 0 6px 18px rgba(0,0,0,0.1);
        border-radius: 10px;
        overflow: hidden;
    }

    .leave-table th,
    .leave-table td {
        padding: 12px 18px;
        text-align: left;
    }

    .leave-table th {
        background-color: #3498db;
        color: #fff;
        font-weight: 600;
    }

    .leave-table tr:nth-child(even) td {
        background-color: #f4f6f8;
    }

    .leave-table tr:hover td {
        background-color: #e8f0fe;
    }

    .leave-table td {
        color: #34495e;
    }

    .leave-table td[colspan] {
        text-align: center;
        color: #e74c3c;
        font-style: italic;
    }

    .leave-table a {
        color: #2980b9;
        text-decoration: none;
        font-weight: 600;
    }

    .leave-table a:hover {
        text-decoration: underline;
    }
</style>

<h2>My Leave Applications</h2>

<table class="leave-table">
    <tr>
        <th>Date</th>
        <th>Type</th>
        <th>Document</th>
        <th>Status</th>
    </tr>

    {% for l in leaves %}
    <tr>
        <td>{{ l.leave_date }}</td>
        <td>{{ l.leave_type }}</td>
        <td>
            {% if l.document %}
                <a href="{{ l.document.url }}">View</a>
            {% else %}
                None
            {% endif %}
        </td>
        <td>{{ l.status }}</td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No leave applications yet.</td>
    </tr>
    {% endfor %}
</table>


{% endblock stud %}